(function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(a,b){var c;this.input=a,this.options=b,c={placeholderCss:"input-placeholder",placeholderFocusCss:"focus",placeholderHiddenCss:"with_value",wrapperCss:"input-wrapper"},this.options=$.extend({},c,this.options),this._wrap(),this._createPlaceholder(),this._overrideDefVal(),this.input.val().length&&this.hide()}return a.prototype.hide=function(){return this.placeholder.addClass(this.options.placeholderHiddenCss)},a.prototype.show=function(){return this.placeholder.removeClass(this.options.placeholderHiddenCss)},a.prototype.focus=function(){return this.placeholder.addClass(this.options.placeholderFocusCss),this.input.val().length?this.hide():this.show()},a.prototype.keyup=function(){return this.focus()},a.prototype.blur=function(){this.placeholder.removeClass(this.options.placeholderFocusCss);if(!this.input.val().length)return this.show()},a.prototype.setNewContent=function(a){return this.placeholder.html(a),this.input.data("placeholder",a)},a.prototype._wrap=function(){return this.wrapperDiv=$("<div class='"+this.options.wrapperCss+"'/>"),this.input.wrapAll(this.wrapperDiv)},a.prototype._createPlaceholder=function(){var a,b;return a=(b=this.input.attr("id"))!=null?b:this._getRandomId(),this.input.attr("id",a),this._calculateMeasurements(),this.placeholder=$("<label class='"+this.options.placeholderCss+"' for='"+a+"'>"+this.input.attr("placeholder")+"</label>").css({top:this._topOffset(),left:this._leftOffset(),"line-height":this.measurements.height,width:this.measurements.width,height:this.measurements.height}).click(function(){return this.focus()}).insertBefore(this.input),this._removeHtmlPlaceholder()},a.prototype._calculateMeasurements=function(){return this.clone=this.input.clone().insertBefore(this.input).css({top:-99999,left:-99999,position:"absolute"}).show(),this.measurements||(this.measurements={width:this.clone.css("width"),height:this.clone.css("height"),left:{padding:parseInt(this.clone.css("padding-left").replace("px","")),border:parseInt(this.clone.css("border-left-width").replace("px","")),margin:parseInt(this.clone.css("margin-left").replace("px",""))},top:{padding:parseInt(this.clone.css("padding-top").replace("px","")),border:parseInt(this.clone.css("border-top-width").replace("px","")),margin:parseInt(this.clone.css("margin-top").replace("px",""))}}),this.clone.remove(),this.measurements},a.prototype._getRandomId=function(){var a;a="";while(a.length===0||$("#"+a).length>0)a="Placeholder_"+Math.floor(Math.random()*1e3);return a},a.prototype._removeHtmlPlaceholder=function(){return this.input.data("placeholder",this.input.attr("placeholder")),this.input.attr("placeholder","")},a.prototype._leftOffset=function(){var a;return a=this.measurements.left,a.padding+a.border+a.margin+2},a.prototype._topOffset=function(){var a;return a=this.measurements.top,a.padding+a.border+a.margin},a.prototype._overrideDefVal=function(){if($.fn.val===this._newVal)return;return $.fn.rVal=$.fn.val,$.fn.val=this._newVal},a.prototype._newVal=function(a){var b;return b=a!==void 0?this.rVal(a):this.rVal(),this.parent().hasClass("input-wrapper")&&a!==void 0&&this.trigger("change"),b},a}(),$.fn.placeholder=function(c){var d,e,f,g;return e=function(c){var d;return d=new a(c),c.data("placeholderInstance",d),c.keyup(b(function(){return d.keyup()},this)).blur(b(function(){return d.blur()},this)).change(b(function(){return d.keyup()},this)).focus(b(function(){return d.focus()},this))},g=c,f=this[0],d=this,this.each(function(){var a;return f=$(this),g?f.data("placeholderInstance").setNewContent(g):((a=f.data("placeholderInstance"))!=null?a.length:void 0)?f.data("placeholderInstance"):e(f)})}}).call(this)