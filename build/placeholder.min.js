(function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(a,b){var c;this.input=a,this.options=b,c={placeholderCss:"input-placeholder",placeholderFocusCss:"focus",placeholderHiddenCss:"with_value",wrapperCss:"input-wrapper"},this.options=$.extend({},c,this.options),this._wrap(),this._createPlaceholder(),this._overrideDefVal(),this.input.val().length&&this.hide()}return a.prototype.hide=function(){return this.placeholder.addClass(this.options.placeholderHiddenCss)},a.prototype.show=function(){return this.placeholder.removeClass(this.options.placeholderHiddenCss)},a.prototype.focus=function(){return this.placeholder.addClass(this.options.placeholderFocusCss),this.input.val().length?this.hide():this.show()},a.prototype.keyup=function(){return this.focus()},a.prototype.blur=function(){this.placeholder.removeClass(this.options.placeholderFocusCss);if(!this.input.val().length)return this.show()},a.prototype._wrap=function(){return this.wrapperDiv=$("<div class='"+this.options.wrapperCss+"'/>"),this.input.wrapAll(this.wrapperDiv)},a.prototype._createPlaceholder=function(){var a,b;return a=(b=this.input.attr("id"))!=null?b:this._getRandomId(),this.input.attr("id",a),this.placeholder=$("<label class='"+this.options.placeholderCss+"' for='"+a+"'>"+this.input.attr("placeholder")+"</label>").css({top:this._topOffset(),left:this._leftOffset(),"line-height":this.input.css("height"),width:this.input.css("width"),height:this.input.css("height")}).click(function(){return this.focus()}).insertBefore(this.input),this._removeHtmlPlaceholder()},a.prototype._getRandomId=function(){var a;a="";while(a.length===0||$("#"+a).length>0)a="Placeholder_"+Math.floor(Math.random()*1e3);return a},a.prototype._removeHtmlPlaceholder=function(){return this.input.data("placeholder",this.input.attr("placeholder")),this.input.attr("placeholder","")},a.prototype._leftOffset=function(){return this.input.position().left+parseInt(this.input.css("padding-left").replace("px",""))+parseInt(this.input.css("border-left-width").replace("px",""))+parseInt(this.input.css("margin-left").replace("px",""))+2},a.prototype._topOffset=function(){return this.input.position().top+parseInt(this.input.css("padding-top").replace("px",""))+parseInt(this.input.css("border-top-width").replace("px",""))+parseInt(this.input.css("margin-top").replace("px",""))},a.prototype._overrideDefVal=function(){if($.fn.val===this._newVal)return;return $.fn.rVal=$.fn.val,$.fn.val=this._newVal},a.prototype._newVal=function(a){var b;return b=a!==void 0?this.rVal(a):this.rVal(),this.parent().hasClass("input-wrapper")&&a!==void 0&&this.trigger("change"),b},a}(),$.fn.placeholder=function(c){var d,e;return e=this[0],d=this,this.each(function(){var c,d;return e=$(this),((d=e.data("placeholder"))!=null?d.length:void 0)?e.data("placeholderInstance"):(c=new a(e),e.data("placeholderInstance",c),e.keyup(b(function(){return c.keyup()},this)).blur(b(function(){return c.blur()},this)).change(b(function(){return c.keyup()},this)).focus(b(function(){return c.focus()},this)))})}}).call(this)